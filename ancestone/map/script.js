const locations = [
    {
        lat: 48.139188,
        lng: 11.56098,
        name: 'Helene Simons',
        image: '../assets/1.jpg',
        info: '*1879 - 25.11.1941; DEPORTIERT 1941 KAUNAS',
        text: "Helene Simons was born on October 7 in Breslau. Her parents were the factory owner Max Deutschmann and Molly née Sachs (1848-1903). She was trained as a concert singer. At the age of 20, she married Dr. Hugo Neumann, an ophthalmologist from Breslau. The couple moved to Berlin. Her husband was killed in World War I. In 1922, she married Dr. Ernst Simons (1869-1934), a physician from Neuss. Both marriages remained childless. After her husband's retirement, the couple moved to Bad Reichenhall in Bavaria, owned a villa, and became friends with the pastor and his wife. The Simons couple converted to Protestantism. After the Nazi takeover and after the death of her husband, Helene Simons lost her house and had to leave the city on May 3, 1941. On June 5, 1941, she took up quarters at the Pension Royal in Munich's Bayerstrasse. On November 12, 1941, she was taken to the barracks camp at Knorrstrasse 148 and deported eastward on November 20, 1941, along with a thousand Jews from Munich. The train was originally supposed to reach Riga, but never arrived there. Helene Simons and the other passengers were shot immediately after arriving in Kaunas on November 25, 1941. This Stolperstein was initiated by Sibylle Schwarzbeck, whose grandparents were close friends of Ernst and Helene Simons, and her husband. Sibylle Schwarzbeck also gave a speech at the laying ceremony."
    },
    {
        lat: 48.140536,
        lng: 11.593462,
        name: 'Else Basch',
        image: '../assets/2.jpg',
        info: '*1878 - 18.6.1944; DEPORTIERT 1942 THERESIENSTADT',
        text: "Else Basch, born in Nuremberg on August 4, 1878. Her parents were Josef Ordenstein, a hop merchant at Tegernsee and later in Munich, and Ida née Lauchheimer. She had three siblings, Ludwig (born April 25, 1877 in Nuremberg), Frieda (born 1881), and Richard (born Dec. 14, 1862, died Feb. 28, 1914). She married Julius Basch, a factory owner, in Nuremberg on January 20, 1902, and moved to Munich. The couple had a son, Ernst (see below), and lived at Steinsdorfstraße 15. Else and Julius Basch acquired the commercial building Zum schönen Turm in Kaufingerstraße, which is known today as Hirmer-Haus.\nThe aryanized family property in Kaufingerstraße\nIn 1926, the family moved to Widenmayerstraße 16. Her husband was deported to the Dachau concentration camp in 1938. He died in Munich on October 1, 1940. After losing her apartment, Else Basch was admitted to the Israelite Religious Community's infirmary in November 1941. On June 11, 1942, she was deported to the Theresienstadt concentration camp, where she was killed on June 18, 1944.\nHer son was able to emigrate in time. Her brother Ludwig Ordenstein, a merchant and single, was already murdered in Theresienstadt on August 22, 1942. A Stolperstein was made for him (Landwehrstr. 22), which is still kept."
    },
    {
        lat: 48.157657,
        lng: 11.580811,
        name: 'Joseph Schuster',
        image: '../assets/3.png',
        info: '*1873 - 23.1.1943; DEPORTIERT 1942 THERESIENSTADT',
        text: 'Joseph Schuster, was born in Cologne on July 5, 1873. His parents were Bernhard and Emilie Schuster. He attended a grammar school in his hometown. After that he lived in England for one year, in France for 18 years and in Switzerland for 4 years. He became a merchant and married Amalie née Reichenberger . The wedding took place in Munich on March 2, 1911. The couple lived at Widenmayerstrasse 46/III, later at Franz-Joseph-Strasse 1. In 1926 he became a dealer in jute sacks. In 1938 he had to close down his business. After that he and his wife had to rely on support from relatives in Germany and from abroad. On July 18, 1942, Joseph Schuster and his wife were deported on Transport II/17 from Munich to the Theresienstadt concentration camp. Their transport numbers were 840 and 841. Both were killed in Theresienstadt. According to the death certificate, Joseph Schuster died on January 23, 1943, at 7 a.m. in room 117 of building Q 306. The official cause of death was listed as "angina pectoris (heart burn)."'
    },
    {
        lat: 48.122089,
        lng: 11.543811,
        name: 'Emanuel Gutmann',
        image: '../assets/5.jpg',
        info: '*1873 – 1943; DEPORTIERT 1942 THERESIENSTADT',
        text: 'Emanuel Gutmann was born in Gemmingen on December 29, 1873. His parents were Adolf Gutmann, a merchant, and Babette née Sontheimer. He moved to Munich at the beginning of 1893. He married Sophie née Marx. Around 1910, the couple bought the house at Lindwurmstrasse 205, and in 1912 they built the Gutmann department store there, which they ran together. As part of the so-called "Aryanizations", Emanuel Gutmann was forced to renounce his house and business. After the Reich Pogrom Night in November 1938, he was deported to the Dachau concentration camp and returned seriously ill. In September 1941, the couple had to leave their apartment at Elisabethstraße 30/I and move to the retirement home of the Jewish Community at Kaulbachstraße 65. On March 16, 1942, they were interned in the barracks camp at Knorrstraße 148. On June 23, 1942, they were deported on Transport II/8 from Munich to the Theresienstadt concentration camp. Emanuel Gutmann was murdered by the Nazi regime on October 24, 1943, at the same place. His wife also died in Theresienstadt a year later.'
    },
    {
        lat: 48.12004,
        lng: 11.549581,
        name: 'Simon Berger',
        image: '../assets/5.jpg',
        info: '*1896 - 25.11.1941; DEPORTIERT KAUNAS',
        text: 'Simon Berger was born on December 4, 1893 in Sokolow, Galicia. His parents were Pinkus Berger, a merchant, and Sima née Kaufmann. In 1926 he married Betty née Sufrin, a merchant, in Munich . The couple had two daughters, Esther and Hanna, born in Munich in 1929 and 1930 . In May 1940, the family had to move out of the family apartment at Theklastraße 3/III and temporarily spend the night in the overnight shelter of the Jewish Community. From July 1940 to November 1, 1941, they found quarters in a collective apartment at Kreisstraße 3. The last weeks before the deportation were again spent in the temporary home. On November 20, 1941, Simon Berger, his wife and two daughters were deported to Lithuania together with a thousand Jews from Munich. The train was originally supposed to reach Riga, but never arrived there. All passengers on this train were shot immediately after arriving in Kaunas on November 25, 1941, including the Berger family of four.'
    },
];

const markers = [];

const createElement = (marker) => {
    console.log(marker);
    let name = marker.title;
    let image = marker.image;
    let info = marker.info;

    let card = document.createElement("div");
    card.classList.add("card");
    document.body.appendChild(card);
    
    let imageEl = document.createElement("img");
    imageEl.src = image;
    imageEl.alt = name;
    
    let container = document.createElement("div");
    let heading = document.createElement("h4");
    let boldText = document.createElement("b");
    boldText.textContent = name;
    heading.appendChild(boldText);
    
    let paragraph = document.createElement("p");
    paragraph.textContent = info;

    container.appendChild(heading);
    container.appendChild(paragraph);

    card.innerHTML = "";
    card.appendChild(imageEl);
    card.appendChild(container);

    card.addEventListener('click', () => {
        window.open(marker.url, '_blank');
    });
}

function initMap() {
    const mapStyle = [
        {
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#ebe3cd"
            }
        ]
        },
        {
        "elementType": "labels.text.fill",
        "stylers": [
            {
            "color": "#523735"
            }
        ]
        },
        {
        "elementType": "labels.text.stroke",
        "stylers": [
            {
            "color": "#f5f1e6"
            }
        ]
        },
        {
        "featureType": "administrative",
        "elementType": "geometry.stroke",
        "stylers": [
            {
            "color": "#c9b2a6"
            }
        ]
        },
        {
        "featureType": "administrative.land_parcel",
        "stylers": [
            {
            "visibility": "off"
            }
        ]
        },
        {
        "featureType": "administrative.land_parcel",
        "elementType": "geometry.stroke",
        "stylers": [
            {
            "color": "#dcd2be"
            }
        ]
        },
        {
        "featureType": "administrative.land_parcel",
        "elementType": "labels.text.fill",
        "stylers": [
            {
            "color": "#ae9e90"
            }
        ]
        },
        {
        "featureType": "administrative.neighborhood",
        "stylers": [
            {
            "visibility": "off"
            }
        ]
        },
        {
        "featureType": "landscape.natural",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#dfd2ae"
            }
        ]
        },
        {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#dfd2ae"
            }
        ]
        },
        {
        "featureType": "poi",
        "elementType": "labels.text",
        "stylers": [
            {
            "visibility": "off"
            }
        ]
        },
        {
        "featureType": "poi",
        "elementType": "labels.text.fill",
        "stylers": [
            {
            "color": "#93817c"
            }
        ]
        },
        {
        "featureType": "poi.business",
        "elementType": "labels",
        "stylers": [
            { 
            "visibility": "off" 
            }
        ]
        },
        {
        "featureType": "poi.park",
        "elementType": "geometry.fill",
        "stylers": [
            {
            "color": "#a5b076"
            }
        ]
        },
        {
        "featureType": "poi.park",
        "elementType": "labels.text.fill",
        "stylers": [
            {
            "color": "#447530"
            }
        ]
        },
        {
        "featureType": "road",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#f5f1e6"
            }
        ]
        },
        {
        "featureType": "road",
        "elementType": "labels",
        "stylers": [
            {
            "visibility": "off"
            }
        ]
        },
        {
        "featureType": "road.arterial",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#fdfcf8"
            }
        ]
        },
        {
        "featureType": "road.highway",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#f8c967"
            }
        ]
        },
        {
        "featureType": "road.highway",
        "elementType": "geometry.stroke",
        "stylers": [
            {
            "color": "#e9bc62"
            }
        ]
        },
        {
        "featureType": "road.highway.controlled_access",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#e98d58"
            }
        ]
        },
        {
        "featureType": "road.highway.controlled_access",
        "elementType": "geometry.stroke",
        "stylers": [
            {
            "color": "#db8555"
            }
        ]
        },
        {
        "featureType": "road.local",
        "elementType": "labels.text.fill",
        "stylers": [
            {
            "color": "#806b63"
            }
        ]
        },
        {
        "featureType": "transit.line",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#dfd2ae"
            }
        ]
        },
        {
        "featureType": "transit.line",
        "elementType": "labels.text.fill",
        "stylers": [
            {
            "color": "#8f7d77"
            }
        ]
        },
        {
        "featureType": "transit.line",
        "elementType": "labels.text.stroke",
        "stylers": [
            {
            "color": "#ebe3cd"
            }
        ]
        },
        {
        "featureType": "transit.station",
        "elementType": "geometry",
        "stylers": [
            {
            "color": "#dfd2ae"
            }
        ]
        },
        {
        "featureType": "water",
        "elementType": "geometry.fill",
        "stylers": [
            {
            "color": "#b9d3c2"
            }
        ]
        },
        {
        "featureType": "water",
        "elementType": "labels.text",
        "stylers": [
            {
            "visibility": "off"
            }
        ]
        },
        {
        "featureType": "water",
        "elementType": "labels.text.fill",
        "stylers": [
            {
            "color": "#92998d"
            }
        ]
        }
    ];

    const map = new google.maps.Map(document.getElementById("googleMap"), {
        center: { lat: 48.1423965, lng: 11.5757072 },
        zoom: 15,
        styles: mapStyle,
        disableDefaultUI: true,
        mapTypeControl: false,
        scaleControl: true,
        streetViewControl: false,
        zoomControl: false,
        zoomControlOptions: {
            style: google.maps.ZoomControlStyle.NONE
        },
        mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    locations.forEach(location => {
        let marker = new google.maps.Marker({
            position: {
                lat: location.lat, 
                lng: location.lng
            },
            map: map,
            title: location.name,
            image: location.image,
            info: location.info,
            url: `https://www.google.com/maps/search/ + ${location.lat} + , + ${location.lng}`,
            icon: {
                size: new google.maps.Size(15, 30),
                scaledSize: new google.maps.Size(15, 30),
                url: '../assets/pin.png'
            },
        });

        markers.push(marker);
    });

    markers.forEach((marker) => {
        google.maps.event.addListener(marker, 'click', function() {
            let card = document.querySelector(".card");

            if (card) {
                card.remove();
            }

            createElement(marker);
        });

    });
}